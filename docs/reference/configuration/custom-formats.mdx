---
id: custom-formats
title: Custom Formats
sidebar_position: 2
description: Configure custom formats and their assignments to profiles
---

<ServiceSupport sonarr="full" radarr="full" />

```yml
# See "Basic Setup" for `service_type` and `instance_name`
service_type:
  instance_name:
    # Custom Format Configuration
    delete_old_custom_formats: false
    custom_formats:
      - trash_ids:
          - ed38b889b31be83fda192888e2286d83 # BR-DISK
          - 90cedc1fea7ea5d11298bebd3d1d3223 # EVO (no WEBDL)
          - 90a6f9a284dff5103f6346090e6280c8 # LQ
          - dc98083864ea246d05a42df0d05f81cc # x265 (720/1080p)
        assign_scores_to:
          - name: HD-1080p
          - trash_id: 64fb5f9858489bdac2af690e27c8f42f # UHD Bluray + WEB
            score: -1000
      - trash_ids:
          - 496f355514737f7d83bf7aa4d24f8169 # TrueHD ATMOS
          - 2f22d89048b01681dde8afe203bf2e95 # DTS X
        assign_scores_to:
          - name: SD

    # Custom Format Groups (bundles of related CFs from the guide)
    custom_format_groups:
      - trash_id: 9d5acd8f1da78dfbae788182f7605200 # [Audio] Audio Formats
        assign_scores_to:
          - trash_id: 64fb5f9858489bdac2af690e27c8f42f # UHD Bluray + WEB
        select:
          - 7357cf5161efbf8c4d5d0c30b4815ee2 # Obfuscated
```

## Synchronization Behavior {#synchronization}

Custom format synchronization is broken up into three categories:

- **Creation**: Custom formats that are in the guide but do not exist in the service are created.
- **Updates**: Custom formats that already exist in both the guide and the service *but are
  different* are updated.
- **Deletions**: If deletions are allowed by having the `delete_old_custom_formats` configuration
  setting set to `true`, then custom formats in the service are deleted if they are removed from the
  guide **or** removed from your configuration file.

:::info

Recyclarr will *never* touch custom formats that you create by hand, unless they share a name with a
custom format in the guide. In general, Recyclarr must have been the one to create a custom format
in order to do anything to it (update or delete).

:::

For details on how Recyclarr tracks custom formats it creates, see the [Cache] page.

[Cache]: ../../guide/troubleshooting/cache.mdx

## `delete_old_custom_formats` {#delete-old-custom-formats}

**Optional.** *Default: `false`*

If enabled, custom formats that you remove from your YAML configuration OR that are removed from the
guide will be deleted from your Radarr instance.

:::info

This *only* applies to custom formats that Recyclarr has synchronized to Radarr. Custom formats that
you have added manually in Radarr **will not be deleted** if you enable this setting.

:::

## `custom_formats` {#custom-formats}

**Optional.** *Default: No custom formats are synced*

A list of one or more sets of custom formats each with an optional set of quality profiles names
that identify which quality profiles to assign the scores for those custom formats to. The child
properties documented below apply to each element of this list.

### `trash_ids` {#trash-ids}

**Required.**

A list of one or more Trash IDs of custom formats to synchronize. There are a couple of ways to
obtain Trash IDs (listed in order of preference below). The Trash ID itself is a hash of hexadecimal
characters, like `496f355514737f7d83bf7aa4d24f8169`.

- Most custom format pages in the TRaSH Guides (like [this one][guidecfs]) have either tables (with
  a Trash ID column) or a expandable "JSON" section. You can use these to obtain the Trash ID value.
- From Recyclarr itself using the [`list custom-formats` command][listcfs].
- Taken from the value of the `"trash_id"` property directly in the [TRaSH Guide JSON
  files][radarrjson] itself.

:::tip

To ease the readability concerns of using IDs, leave a comment beside the Trash ID in your
configuration so it can be easily identified later. If you use [`list custom-formats`][listcfs],
comments are added for you. For example:

```yml
trash_ids:
- 5d96ce331b98e077abb8ceb60553aa16 # dovi
- a570d4a0e56a2874b64e5bfa55202a1b # flac
```

:::

:::info A Few Things to Remember

- If `delete_old_custom_formats` is set to true, custom formats are **deleted** in Radarr if you
  remove them from this list.
- It's OK for the same custom format to exist in multiple lists of `trash_ids`. Recyclarr will only
  ever synchronize it once. Allowing it to be specified multiple times allows you to assign it to
  different profiles with different scores.

:::

### `assign_scores_to` {#assign-scores-to}

**Optional.** *Default: No quality profiles are changed*

One or more quality profiles to update with the scores from the custom formats listed above. Scores
are taken from the guide by default, with an option to override the score for all of them. Profiles
can be referenced by `name` or `trash_id`. Each object in the list must use one of these properties
(but not both).

#### `name` {#qp-name}

**Conditionally Required.** Required if `trash_id` is not specified.

The name of *an existing* quality profile. This name is **not required** to appear in the top-level
[`quality_profiles` list][qps]. If the profile name specified here does not exist, an error will be
shown. If you want this profile to be created by Recyclarr, you must also add an entry for it in the
previously mentioned `quality_profiles` list.

[qps]: ./quality-profiles.mdx

#### `trash_id` {#qp-trash-id}

**Conditionally Required.** Required if `name` is not specified.

The trash ID of a [guide-backed quality profile][guide-qp]. Use this instead of `name` when
referencing profiles managed by Recyclarr through guide synchronization. This is useful because
guide-backed profile names may change with guide updates, while the trash ID remains stable.

[guide-qp]: ./quality-profiles.mdx#trash-id

#### `score` {#qp-score}

**Optional.** *Default: Use scores from the guide*

A positive or negative number representing the score to apply to *all* custom formats listed in the
`trash_ids` list. A score of `0` is also acceptable, which effectively disables the custom formats
without having to delete them.

[guidecfs]: https://trash-guides.info/Radarr/Radarr-collection-of-custom-formats/
[listcfs]: ../../cli/list/list-custom-formats.mdx
[radarrjson]: https://github.com/TRaSH-/Guides/tree/master/docs/json/radarr/cf

## `custom_format_groups` {#custom-format-groups}

**Optional.** *Default: No CF groups are synced*

A list of custom format groups from the TRaSH Guides. Groups bundle related custom formats with
guide-recommended scores, simplifying configuration compared to listing individual custom formats.

Which custom formats sync from a group depends on flags in the TRaSH Guide JSON:

- **Required** (`required: true`) — Always synced when the group is enabled. Cannot be deselected.
- **Default** (`default: true`) — Synced automatically unless you override via [`select`][cfg-sel].
- **Optional** (no `default` flag) — NOT synced unless explicitly listed in `select`.

This opt-in model means many groups work without any `select` property—you get all required and
default CFs automatically. Use `select` only when you need to swap defaults or add optional CFs.

[cfg-sel]: #cfg-select

:::info Groups vs Individual Custom Formats

Use `custom_format_groups` to adopt curated sets of related custom formats with guide-recommended
scores. Use `custom_formats` when you need fine-grained control over individual custom formats,
want to override scores, or need to assign to user-defined profiles.

:::

### `trash_id` {#cfg-trash-id}

**Required.**

The trash ID of a custom format group from the TRaSH Guides. Group trash IDs can be discovered
using the [`list custom-format-groups` command][listcfgroups] or found in the [TRaSH Guide CF group
JSON files][cfgroups].

### `assign_scores_to` {#cfg-assign-scores-to}

**Optional.** *Default: All applicable guide-backed quality profiles*

One or more quality profiles to assign the group's custom format scores to. Unlike
[`custom_formats.assign_scores_to`][cf-assign], this property only accepts `trash_id` references to
[guide-backed quality profiles][guide-qp], not profile names.

When omitted, scores are assigned to guide-backed quality profiles in your configuration that the
group includes. Each group specifies which profiles are compatible—for example, HDR groups include
only UHD profiles since HDR is a UHD feature. User-defined profiles (those with only a `name`) do
not receive scores from groups.

The include list is enforced even when you explicitly specify `assign_scores_to`—referencing a
profile not in the group's include list results in a validation error.

#### `trash_id` {#cfg-ast-trash-id}

**Required.**

The trash ID of a [guide-backed quality profile][guide-qp].

### `select` {#cfg-select}

**Optional.** *Default: Sync required and default CFs only*

A list of custom format trash IDs to select from this group. Use this to opt-in to optional CFs or
override default selections.

Listed CFs are synced in addition to required CFs. When a group contains mutually exclusive CFs
(where only one should be active), selecting a non-default CF automatically replaces the default.

See the [CF Groups guide][cfg-guide] for usage patterns and examples.

:::info

Selecting a required CF is allowed but redundant—required CFs sync regardless. Recyclarr logs a
warning to help identify unnecessary entries.

:::

[cf-assign]: #assign-scores-to
[cfg-guide]: ../../guide/cf-groups.mdx
[cfgroups]: https://github.com/TRaSH-Guides/Guides/tree/master/docs/json/radarr/cf-groups
[listcfgroups]: ../../cli/list/list-custom-format-groups.mdx
